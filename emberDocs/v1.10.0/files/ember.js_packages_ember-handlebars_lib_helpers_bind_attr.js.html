<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>ember.js/packages/ember-handlebars/lib/helpers/bind_attr.js - The Ember API</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="The Ember API" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.0.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/A Suite can be used to define a reusable set of unit tests that can be
                applied to any object.  Suites are most useful for defining tests that
                work against a mixin or plugin API.  Developers implementing objects that
                use the mixin or support the API can then run these tests against their
                own code to verify compliance.
                
                To define a suite, you need to define the tests themselves as well as a
                callback API implementors can use to tie your tests to their specific class.
                
                ## Defining a Callback API
                
                To define the callback API, just extend this class and add your properties
                or methods that must be provided.  Use Ember.required() placeholders for
                any properties that implementors must define themselves.
                
                ## Defining Unit Tests
                
                To add unit tests, use the suite.module() or suite.test() methods instead
                of a regular module() or test() method when defining your tests.  This will
                add the tests to the suite.
                
                ## Using a Suite
                
                To use a Suite to test your own objects, extend the suite subclass and
                define any required methods.  Then call run() on the new subclass.  This
                will create an instance of your class and then defining the unit tests..html">A Suite can be used to define a reusable set of unit tests that can be
                applied to any object.  Suites are most useful for defining tests that
                work against a mixin or plugin API.  Developers implementing objects that
                use the mixin or support the API can then run these tests against their
                own code to verify compliance.
                
                To define a suite, you need to define the tests themselves as well as a
                callback API implementors can use to tie your tests to their specific class.
                
                ## Defining a Callback API
                
                To define the callback API, just extend this class and add your properties
                or methods that must be provided.  Use Ember.required() placeholders for
                any properties that implementors must define themselves.
                
                ## Defining Unit Tests
                
                To add unit tests, use the suite.module() or suite.test() methods instead
                of a regular module() or test() method when defining your tests.  This will
                add the tests to the suite.
                
                ## Using a Suite
                
                To use a Suite to test your own objects, extend the suite subclass and
                define any required methods.  Then call run() on the new subclass.  This
                will create an instance of your class and then defining the unit tests.</a></li>
                                <li><a href="../classes/Backburner.html">Backburner</a></li>
                                <li><a href="../classes/Ember.html">Ember</a></li>
                                <li><a href="../classes/Ember._BoundView.html">Ember._BoundView</a></li>
                                <li><a href="../classes/Ember._Metamorph.html">Ember._Metamorph</a></li>
                                <li><a href="../classes/Ember._MetamorphView.html">Ember._MetamorphView</a></li>
                                <li><a href="../classes/Ember._SimpleMetamorphView.html">Ember._SimpleMetamorphView</a></li>
                                <li><a href="../classes/Ember.ActionHandler.html">Ember.ActionHandler</a></li>
                                <li><a href="../classes/Ember.Application.html">Ember.Application</a></li>
                                <li><a href="../classes/Ember.Array.html">Ember.Array</a></li>
                                <li><a href="../classes/Ember.ArrayController.html">Ember.ArrayController</a></li>
                                <li><a href="../classes/Ember.ArrayProxy.html">Ember.ArrayProxy</a></li>
                                <li><a href="../classes/Ember.AutoLocation.html">Ember.AutoLocation</a></li>
                                <li><a href="../classes/Ember.Binding.html">Ember.Binding</a></li>
                                <li><a href="../classes/Ember.Checkbox.html">Ember.Checkbox</a></li>
                                <li><a href="../classes/Ember.CollectionView.html">Ember.CollectionView</a></li>
                                <li><a href="../classes/Ember.Comparable.html">Ember.Comparable</a></li>
                                <li><a href="../classes/Ember.Component.html">Ember.Component</a></li>
                                <li><a href="../classes/Ember.ComponentTemplateDeprecation.html">Ember.ComponentTemplateDeprecation</a></li>
                                <li><a href="../classes/Ember.ComputedProperty.html">Ember.ComputedProperty</a></li>
                                <li><a href="../classes/Ember.ContainerDebugAdapter.html">Ember.ContainerDebugAdapter</a></li>
                                <li><a href="../classes/Ember.ContainerView.html">Ember.ContainerView</a></li>
                                <li><a href="../classes/Ember.Controller.html">Ember.Controller</a></li>
                                <li><a href="../classes/Ember.ControllerContentModelAliasDeprecation.html">Ember.ControllerContentModelAliasDeprecation</a></li>
                                <li><a href="../classes/Ember.ControllerMixin.html">Ember.ControllerMixin</a></li>
                                <li><a href="../classes/Ember.Copyable.html">Ember.Copyable</a></li>
                                <li><a href="../classes/Ember.CoreObject.html">Ember.CoreObject</a></li>
                                <li><a href="../classes/Ember.CoreView.html">Ember.CoreView</a></li>
                                <li><a href="../classes/Ember.DataAdapter.html">Ember.DataAdapter</a></li>
                                <li><a href="../classes/Ember.DefaultResolver.html">Ember.DefaultResolver</a></li>
                                <li><a href="../classes/Ember.Deferred.html">Ember.Deferred</a></li>
                                <li><a href="../classes/Ember.Descriptor.html">Ember.Descriptor</a></li>
                                <li><a href="../classes/Ember.EachProxy.html">Ember.EachProxy</a></li>
                                <li><a href="../classes/Ember.Enumerable.html">Ember.Enumerable</a></li>
                                <li><a href="../classes/Ember.EnumerableUtils.html">Ember.EnumerableUtils</a></li>
                                <li><a href="../classes/Ember.Error.html">Ember.Error</a></li>
                                <li><a href="../classes/Ember.EventDispatcher.html">Ember.EventDispatcher</a></li>
                                <li><a href="../classes/Ember.Evented.html">Ember.Evented</a></li>
                                <li><a href="../classes/Ember.FEATURES.html">Ember.FEATURES</a></li>
                                <li><a href="../classes/Ember.Freezable.html">Ember.Freezable</a></li>
                                <li><a href="../classes/Ember.Handlebars.html">Ember.Handlebars</a></li>
                                <li><a href="../classes/Ember.Handlebars.Compiler.html">Ember.Handlebars.Compiler</a></li>
                                <li><a href="../classes/Ember.Handlebars.helpers.html">Ember.Handlebars.helpers</a></li>
                                <li><a href="../classes/Ember.Handlebars.JavaScriptCompiler.html">Ember.Handlebars.JavaScriptCompiler</a></li>
                                <li><a href="../classes/Ember.HashLocation.html">Ember.HashLocation</a></li>
                                <li><a href="../classes/Ember.HistoryLocation.html">Ember.HistoryLocation</a></li>
                                <li><a href="../classes/Ember.HTMLBars.html">Ember.HTMLBars</a></li>
                                <li><a href="../classes/Ember.HTMLBars.Helper.html">Ember.HTMLBars.Helper</a></li>
                                <li><a href="../classes/Ember.inject.html">Ember.inject</a></li>
                                <li><a href="../classes/Ember.InjectedProperty.html">Ember.InjectedProperty</a></li>
                                <li><a href="../classes/Ember.Instrumentation.html">Ember.Instrumentation</a></li>
                                <li><a href="../classes/Ember.LinkView.html">Ember.LinkView</a></li>
                                <li><a href="../classes/Ember.Location.html">Ember.Location</a></li>
                                <li><a href="../classes/Ember.Logger.html">Ember.Logger</a></li>
                                <li><a href="../classes/Ember.Map.html">Ember.Map</a></li>
                                <li><a href="../classes/Ember.MapWithDefault.html">Ember.MapWithDefault</a></li>
                                <li><a href="../classes/Ember.Mixin.html">Ember.Mixin</a></li>
                                <li><a href="../classes/Ember.MutableArray.html">Ember.MutableArray</a></li>
                                <li><a href="../classes/Ember.MutableEnumerable.html">Ember.MutableEnumerable</a></li>
                                <li><a href="../classes/Ember.Namespace.html">Ember.Namespace</a></li>
                                <li><a href="../classes/Ember.NativeArray.html">Ember.NativeArray</a></li>
                                <li><a href="../classes/Ember.NoneLocation.html">Ember.NoneLocation</a></li>
                                <li><a href="../classes/Ember.Object.html">Ember.Object</a></li>
                                <li><a href="../classes/Ember.ObjectController.html">Ember.ObjectController</a></li>
                                <li><a href="../classes/Ember.ObjectProxy.html">Ember.ObjectProxy</a></li>
                                <li><a href="../classes/Ember.Observable.html">Ember.Observable</a></li>
                                <li><a href="../classes/Ember.OrderedSet.html">Ember.OrderedSet</a></li>
                                <li><a href="../classes/Ember.platform.html">Ember.platform</a></li>
                                <li><a href="../classes/Ember.PromiseProxyMixin.html">Ember.PromiseProxyMixin</a></li>
                                <li><a href="../classes/Ember.ProxyMixin.html">Ember.ProxyMixin</a></li>
                                <li><a href="../classes/Ember.ReduceComputedProperty.html">Ember.ReduceComputedProperty</a></li>
                                <li><a href="../classes/Ember.Route.html">Ember.Route</a></li>
                                <li><a href="../classes/Ember.Router.html">Ember.Router</a></li>
                                <li><a href="../classes/Ember.run.html">Ember.run</a></li>
                                <li><a href="../classes/Ember.Select.html">Ember.Select</a></li>
                                <li><a href="../classes/Ember.Service.html">Ember.Service</a></li>
                                <li><a href="../classes/Ember.Set.html">Ember.Set</a></li>
                                <li><a href="../classes/Ember.SortableMixin.html">Ember.SortableMixin</a></li>
                                <li><a href="../classes/Ember.String.html">Ember.String</a></li>
                                <li><a href="../classes/Ember.SubArray.html">Ember.SubArray</a></li>
                                <li><a href="../classes/Ember.TargetActionSupport.html">Ember.TargetActionSupport</a></li>
                                <li><a href="../classes/Ember.Test.html">Ember.Test</a></li>
                                <li><a href="../classes/Ember.Test.Adapter.html">Ember.Test.Adapter</a></li>
                                <li><a href="../classes/Ember.Test.QUnitAdapter.html">Ember.Test.QUnitAdapter</a></li>
                                <li><a href="../classes/Ember.TextArea.html">Ember.TextArea</a></li>
                                <li><a href="../classes/Ember.TextField.html">Ember.TextField</a></li>
                                <li><a href="../classes/Ember.TextSupport.html">Ember.TextSupport</a></li>
                                <li><a href="../classes/Ember.TrackedArray.html">Ember.TrackedArray</a></li>
                                <li><a href="../classes/Ember.View.html">Ember.View</a></li>
                                <li><a href="../classes/Ember.ViewTargetActionSupport.html">Ember.ViewTargetActionSupport</a></li>
                                <li><a href="../classes/Function.html">Function</a></li>
                                <li><a href="../classes/HandlebarsCompatibleHelper.html">HandlebarsCompatibleHelper</a></li>
                                <li><a href="../classes/Libraries.html">Libraries</a></li>
                                <li><a href="../classes/String.html">String</a></li>
                                <li><a href="../classes/TransformEachInToHash.html">TransformEachInToHash</a></li>
                                <li><a href="../classes/TransformWithAsToHash.html">TransformWithAsToHash</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/ember.html">ember</a></li>
                                <li><a href="../modules/ember-application.html">ember-application</a></li>
                                <li><a href="../modules/ember-debug.html">ember-debug</a></li>
                                <li><a href="../modules/ember-extension-support.html">ember-extension-support</a></li>
                                <li><a href="../modules/ember-handlebars.html">ember-handlebars</a></li>
                                <li><a href="../modules/ember-handlebars-compiler.html">ember-handlebars-compiler</a></li>
                                <li><a href="../modules/ember-htmlbars.html">ember-htmlbars</a></li>
                                <li><a href="../modules/ember-metal.html">ember-metal</a></li>
                                <li><a href="../modules/ember-routing.html">ember-routing</a></li>
                                <li><a href="../modules/ember-routing-handlebars.html">ember-routing-handlebars</a></li>
                                <li><a href="../modules/ember-routing-htmlbars.html">ember-routing-htmlbars</a></li>
                                <li><a href="../modules/ember-routing-views.html">ember-routing-views</a></li>
                                <li><a href="../modules/ember-runtime.html">ember-runtime</a></li>
                                <li><a href="../modules/ember-template-compiler.html">ember-template-compiler</a></li>
                                <li><a href="../modules/ember-testing.html">ember-testing</a></li>
                                <li><a href="../modules/ember-views.html">ember-views</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: ember.js/packages/ember-handlebars/lib/helpers/bind_attr.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
@module ember
@submodule ember-handlebars
*/

import Ember from &quot;ember-metal/core&quot;; // Ember.assert
import EmberHandlebars from &quot;ember-handlebars-compiler&quot;;

import { uuid } from &quot;ember-metal/utils&quot;;
import { fmt } from &quot;ember-runtime/system/string&quot;;
import { typeOf } from &quot;ember-metal/utils&quot;;
import { forEach } from &quot;ember-metal/array&quot;;
import View from &quot;ember-views/views/view&quot;;
import keys from &quot;ember-metal/keys&quot;;

import sanitizeAttributeValue from &quot;ember-views/system/sanitize_attribute_value&quot;;

var helpers = EmberHandlebars.helpers;
var SafeString = EmberHandlebars.SafeString;

/**
  &#x60;bind-attr&#x60; allows you to create a binding between DOM element attributes and
  Ember objects. For example:

  &#x60;&#x60;&#x60;handlebars
  &lt;img {{bind-attr src=&quot;imageUrl&quot; alt=&quot;imageTitle&quot;}}&gt;
  &#x60;&#x60;&#x60;

  The above handlebars template will fill the &#x60;&lt;img&gt;&#x60;&#x27;s &#x60;src&#x60; attribute with
  the value of the property referenced with &#x60;&quot;imageUrl&quot;&#x60; and its &#x60;alt&#x60;
  attribute with the value of the property referenced with &#x60;&quot;imageTitle&quot;&#x60;.

  If the rendering context of this template is the following object:

  &#x60;&#x60;&#x60;javascript
  {
    imageUrl: &#x27;http://lolcats.info/haz-a-funny&#x27;,
    imageTitle: &#x27;A humorous image of a cat&#x27;
  }
  &#x60;&#x60;&#x60;

  The resulting HTML output will be:

  &#x60;&#x60;&#x60;html
  &lt;img src=&quot;http://lolcats.info/haz-a-funny&quot; alt=&quot;A humorous image of a cat&quot;&gt;
  &#x60;&#x60;&#x60;

  &#x60;bind-attr&#x60; cannot redeclare existing DOM element attributes. The use of &#x60;src&#x60;
  in the following &#x60;bind-attr&#x60; example will be ignored and the hard coded value
  of &#x60;src=&quot;/failwhale.gif&quot;&#x60; will take precedence:

  &#x60;&#x60;&#x60;handlebars
  &lt;img src=&quot;/failwhale.gif&quot; {{bind-attr src=&quot;imageUrl&quot; alt=&quot;imageTitle&quot;}}&gt;
  &#x60;&#x60;&#x60;

  ### &#x60;bind-attr&#x60; and the &#x60;class&#x60; attribute

  &#x60;bind-attr&#x60; supports a special syntax for handling a number of cases unique
  to the &#x60;class&#x60; DOM element attribute. The &#x60;class&#x60; attribute combines
  multiple discrete values into a single attribute as a space-delimited
  list of strings. Each string can be:

  * a string return value of an object&#x27;s property.
  * a boolean return value of an object&#x27;s property
  * a hard-coded value

  A string return value works identically to other uses of &#x60;bind-attr&#x60;. The
  return value of the property will become the value of the attribute. For
  example, the following view and template:

  &#x60;&#x60;&#x60;javascript
    AView = View.extend({
      someProperty: function() {
        return &quot;aValue&quot;;
      }.property()
    })
  &#x60;&#x60;&#x60;

  &#x60;&#x60;&#x60;handlebars
  &lt;img {{bind-attr class=&quot;view.someProperty}}&gt;
  &#x60;&#x60;&#x60;

  Result in the following rendered output:

  &#x60;&#x60;&#x60;html
  &lt;img class=&quot;aValue&quot;&gt;
  &#x60;&#x60;&#x60;

  A boolean return value will insert a specified class name if the property
  returns &#x60;true&#x60; and remove the class name if the property returns &#x60;false&#x60;.

  A class name is provided via the syntax
  &#x60;somePropertyName:class-name-if-true&#x60;.

  &#x60;&#x60;&#x60;javascript
  AView = View.extend({
    someBool: true
  })
  &#x60;&#x60;&#x60;

  &#x60;&#x60;&#x60;handlebars
  &lt;img {{bind-attr class=&quot;view.someBool:class-name-if-true&quot;}}&gt;
  &#x60;&#x60;&#x60;

  Result in the following rendered output:

  &#x60;&#x60;&#x60;html
  &lt;img class=&quot;class-name-if-true&quot;&gt;
  &#x60;&#x60;&#x60;

  An additional section of the binding can be provided if you want to
  replace the existing class instead of removing it when the boolean
  value changes:

  &#x60;&#x60;&#x60;handlebars
  &lt;img {{bind-attr class=&quot;view.someBool:class-name-if-true:class-name-if-false&quot;}}&gt;
  &#x60;&#x60;&#x60;

  A hard-coded value can be used by prepending &#x60;:&#x60; to the desired
  class name: &#x60;:class-name-to-always-apply&#x60;.

  &#x60;&#x60;&#x60;handlebars
  &lt;img {{bind-attr class=&quot;:class-name-to-always-apply&quot;}}&gt;
  &#x60;&#x60;&#x60;

  Results in the following rendered output:

  &#x60;&#x60;&#x60;html
  &lt;img class=&quot;class-name-to-always-apply&quot;&gt;
  &#x60;&#x60;&#x60;

  All three strategies - string return value, boolean return value, and
  hard-coded value – can be combined in a single declaration:

  &#x60;&#x60;&#x60;handlebars
  &lt;img {{bind-attr class=&quot;:class-name-to-always-apply view.someBool:class-name-if-true view.someProperty&quot;}}&gt;
  &#x60;&#x60;&#x60;

  @method bind-attr
  @for Ember.Handlebars.helpers
  @param {Hash} options
  @return {String} HTML string
*/
function bindAttrHelper(options) {
  var attrs = options.hash;

  Ember.assert(&quot;You must specify at least one hash argument to bind-attr&quot;, !!keys(attrs).length);

  var view = options.data.view;
  var ret = [];

  // we relied on the behavior of calling without
  // context to mean this === window, but when running
  // &quot;use strict&quot;, it&#x27;s possible for this to === undefined;
  var ctx = this || window;

  // Generate a unique id for this element. This will be added as a
  // data attribute to the element so it can be looked up when
  // the bound property changes.
  var dataId = uuid();

  // Handle classes differently, as we can bind multiple classes
  var classBindings = attrs[&#x27;class&#x27;];
  if (classBindings != null) {
    var classResults = bindClasses(ctx, classBindings, view, dataId, options);

    ret.push(&#x27;class=&quot;&#x27; + Handlebars.Utils.escapeExpression(classResults.join(&#x27; &#x27;)) + &#x27;&quot;&#x27;);
    delete attrs[&#x27;class&#x27;];
  }

  var attrKeys = keys(attrs);

  // For each attribute passed, create an observer and emit the
  // current value of the property as an attribute.
  forEach.call(attrKeys, function(attr) {
    var path = attrs[attr];

    Ember.assert(fmt(&quot;You must provide an expression as the value of bound attribute.&quot; +
                     &quot; You specified: %@=%@&quot;, [attr, path]), typeof path === &#x27;string&#x27;);

    var lazyValue = view.getStream(path);
    var value = lazyValue.value();
    value = sanitizeAttributeValue(null, attr, value);
    var type = typeOf(value);

    Ember.assert(fmt(&quot;Attributes must be numbers, strings or booleans, not %@&quot;, [value]), 
                 value === null || value === undefined || type === &#x27;number&#x27; || type === &#x27;string&#x27; || type === &#x27;boolean&#x27;);

    lazyValue.subscribe(view._wrapAsScheduled(function applyAttributeBindings() {
      var result = lazyValue.value();

      Ember.assert(fmt(&quot;Attributes must be numbers, strings or booleans, not %@&quot;, [result]),
                   result === null || result === undefined || typeof result === &#x27;number&#x27; ||
                     typeof result === &#x27;string&#x27; || typeof result === &#x27;boolean&#x27;);

      var elem = view.$(&quot;[data-bindattr-&quot; + dataId + &quot;=&#x27;&quot; + dataId + &quot;&#x27;]&quot;);

      Ember.assert(&quot;An attribute binding was triggered when the element was not in the DOM&quot;, elem &amp;&amp; elem.length !== 0);

      View.applyAttributeBindings(elem, attr, result);
    }));

    // if this changes, also change the logic in ember-views/lib/views/view.js
    if ((type === &#x27;string&#x27; || (type === &#x27;number&#x27; &amp;&amp; !isNaN(value)))) {
      ret.push(attr + &#x27;=&quot;&#x27; + Handlebars.Utils.escapeExpression(value) + &#x27;&quot;&#x27;);
    } else if (value &amp;&amp; type === &#x27;boolean&#x27;) {
      // The developer controls the attr name, so it should always be safe
      ret.push(attr + &#x27;=&quot;&#x27; + attr + &#x27;&quot;&#x27;);
    }
  }, this);

  // Add the unique identifier
  // NOTE: We use all lower-case since Firefox has problems with mixed case in SVG
  ret.push(&#x27;data-bindattr-&#x27; + dataId + &#x27;=&quot;&#x27; + dataId + &#x27;&quot;&#x27;);
  return new SafeString(ret.join(&#x27; &#x27;));
}

/**
  See &#x60;bind-attr&#x60;

  @method bindAttr
  @for Ember.Handlebars.helpers
  @deprecated
  @param {Function} context
  @param {Hash} options
  @return {String} HTML string
*/
function bindAttrHelperDeprecated() {
  Ember.deprecate(&quot;The &#x27;bindAttr&#x27; view helper is deprecated in favor of &#x27;bind-attr&#x27;&quot;);

  return helpers[&#x27;bind-attr&#x27;].apply(this, arguments);
}

/**
  Helper that, given a space-separated string of property paths and a context,
  returns an array of class names. Calling this method also has the side
  effect of setting up observers at those property paths, such that if they
  change, the correct class name will be reapplied to the DOM element.

  For example, if you pass the string &quot;fooBar&quot;, it will first look up the
  &quot;fooBar&quot; value of the context. If that value is true, it will add the
  &quot;foo-bar&quot; class to the current element (i.e., the dasherized form of
  &quot;fooBar&quot;). If the value is a string, it will add that string as the class.
  Otherwise, it will not add any new class name.

  @private
  @method bindClasses
  @for Ember.Handlebars
  @param {Ember.Object} context The context from which to lookup properties
  @param {String} classBindings A string, space-separated, of class bindings
    to use
  @param {View} view The view in which observers should look for the
    element to update
  @param {Srting} bindAttrId Optional bindAttr id used to lookup elements
  @return {Array} An array of class names to add
*/
function bindClasses(context, classBindings, view, bindAttrId, options) {
  var ret = [];
  var newClass, value, elem;

  // For each property passed, loop through and setup
  // an observer.
  forEach.call(classBindings.split(&#x27; &#x27;), function(binding) {

    // Variable in which the old class value is saved. The observer function
    // closes over this variable, so it knows which string to remove when
    // the property changes.
    var oldClass;
    var parsedPath = View._parsePropertyPath(binding);
    var path = parsedPath.path;
    var initialValue;

    if (path === &#x27;&#x27;) {
      initialValue = true;
    } else {
      var lazyValue = view.getStream(path);
      initialValue = lazyValue.value();

      // Set up an observer on the context. If the property changes, toggle the
      // class name.
      lazyValue.subscribe(view._wrapAsScheduled(function applyClassNameBindings() {
        // Get the current value of the property
        var value = lazyValue.value();
        newClass = classStringForParsedPath(parsedPath, value);
        elem = bindAttrId ? view.$(&quot;[data-bindattr-&quot; + bindAttrId + &quot;=&#x27;&quot; + bindAttrId + &quot;&#x27;]&quot;) : view.$();

        Ember.assert(&quot;A class name binding was triggered when the element was not in the DOM&quot;, elem &amp;&amp; elem.length !== 0);

        // If we had previously added a class to the element, remove it.
        if (oldClass) {
          elem.removeClass(oldClass);
        }

        // If necessary, add a new class. Make sure we keep track of it so
        // it can be removed in the future.
        if (newClass) {
          elem.addClass(newClass);
          oldClass = newClass;
        } else {
          oldClass = null;
        }
      }));
    }

    // We&#x27;ve already setup the observer; now we just need to figure out the
    // correct behavior right now on the first pass through.
    value = classStringForParsedPath(parsedPath, initialValue);

    if (value) {
      ret.push(value);

      // Make sure we save the current value so that it can be removed if the
      // observer fires.
      oldClass = value;
    }
  });

  return ret;
}

function classStringForParsedPath(parsedPath, value) {
  return View._classStringForValue(parsedPath.path, value, parsedPath.className, parsedPath.falsyClassName);
}

export default bindAttrHelper;

export {
  bindAttrHelper,
  bindAttrHelperDeprecated,
  bindClasses
};

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
